<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' https: 'unsafe-inline' 'unsafe-eval'; style-src 'self' https: 'unsafe-inline'; img-src 'self' data: https:; connect-src https://natsnkvqokwbrdoqbzrz.supabase.co https://api.emailjs.com https://*.supabase.co; frame-ancestors 'none';" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MemoryFrame — Cinematic Luxury Frames</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Third-party libs -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.0/dist/vanilla-tilt.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js" crossorigin="anonymous"></script>

  <meta name="description" content="MemoryFrame — premium photo frames with embedded QR codes that play your video memories." />
  <meta name="theme-color" content="#0a0a0a" />
  <link rel="manifest" href="#" id="pwa-manifest-link">

  <style>
    /* Small inline critical CSS to avoid FOUS */
    :root{color-scheme:dark}
  </style>
</head>
<body>

  <!-- Sticky Navigation -->
  <header class="nav-wrap">
    <nav class="nav container">
      <a class="logo" href="#hero" id="logoSvg">
        <svg width="220" height="28" viewBox="0 0 440 56" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ffd700"/><stop offset="1" stop-color="#ffb84d"/></linearGradient></defs>
          <path id="logoPath" d="M8 44 L8 12 L40 12 L40 44 Z M56 12 L88 12 L88 44 L56 44 Z M104 12 L136 12 L136 44 L104 44 Z" stroke="url(#g1)" stroke-width="2" fill="none"/>
          <text x="160" y="36" font-family="Orbitron, sans-serif" font-size="20" fill="#ffd700">MemoryFrame</text>
        </svg>
      </a>

      <ul class="nav-links" id="navLinks" role="menubar">
        <li role="none"><a role="menuitem" href="#features" class="nav-link">Features</a></li>
        <li role="none"><a role="menuitem" href="#how" class="nav-link">How It Works</a></li>
        <li role="none"><a role="menuitem" href="#create" class="nav-link">Create Frame</a></li>
        <li role="none"><a role="menuitem" href="#order" class="nav-link">Order</a></li>
        <li role="none"><a role="menuitem" href="scan.html" class="nav-link cta">Scanner</a></li>
      </ul>
      <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">☰</button>
    </nav>
  </header>

  <!-- Hero Slider -->
  <section id="hero" class="hero" aria-label="Hero">
    <div id="heroParticles" class="parallax-layer" aria-hidden="true"></div>

    <div class="hero-slider" id="heroSlider" data-interval="5000" role="region" aria-roledescription="carousel">
      <div class="slide active" data-index="0" role="group" aria-roledescription="slide" aria-label="Slide 1">
        <div class="slide-bg parallax-layer kenburns" style="background-image: linear-gradient(180deg, rgba(10,10,10,0.6), rgba(10,10,10,0.6)), url('https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide-content container">
          <h1 class="glitch">Memories Come Alive</h1>
          <p class="lead">Premium frames with embedded QR codes — scan to watch the moments that matter.</p>
          <div class="hero-ctas">
            <a href="#order" class="btn btn-gold animated-border ripple">Order Now</a>
            <a href="#create" class="btn btn-outline glow-hover">Create Your Frame</a>
          </div>
        </div>
      </div>

      <div class="slide" data-index="1" role="group" aria-roledescription="slide" aria-label="Slide 2">
        <div class="slide-bg parallax-layer kenburns" style="background-image: linear-gradient(180deg, rgba(10,10,10,0.6), rgba(10,10,10,0.6)), url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide-content container">
          <h1 class="glitch">Scan & Watch</h1>
          <p class="lead">Open the scanner, point at the frame, and relive the memory instantly.</p>
          <div class="hero-ctas">
            <a href="scan.html" class="btn btn-gold animated-border">Open Scanner</a>
            <a href="#how" class="btn btn-outline">Learn How</a>
          </div>
        </div>
      </div>

      <div class="slide" data-index="2" role="group" aria-roledescription="slide" aria-label="Slide 3">
        <div class="slide-bg parallax-layer kenburns" style="background-image: linear-gradient(180deg, rgba(10,10,10,0.6), rgba(10,10,10,0.6)), url('https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=1600&q=80');"></div>
        <div class="slide-content container">
          <h1 class="glitch">Premium Quality</h1>
          <p class="lead">Handcrafted frames, archival prints, and high-fidelity video playback.</p>
          <div class="hero-ctas">
            <a href="#order" class="btn btn-gold">Order Premium</a>
            <a href="#create" class="btn btn-outline">Start Creating</a>
          </div>
        </div>
      </div>

      <!-- Arrows -->
      <button class="hero-arrow left" id="prevSlide" aria-label="Previous slide">‹</button>
      <button class="hero-arrow right" id="nextSlide" aria-label="Next slide">›</button>

      <!-- Dots -->
      <div class="hero-dots" id="heroDots" role="tablist" aria-label="Slide dots"></div>
    </div>
  </section>

  <main>

    <!-- Features Grid -->
    <section id="features" class="section container fade-in reveal" aria-labelledby="featuresTitle">
      <h2 id="featuresTitle" class="section-title">Features</h2>
      <div class="features-grid">
        <article class="card glass tilt" data-tilt>
          <h3>Premium Frames</h3>
          <p>Handcrafted frames with museum-grade finishes and gold accents.</p>
        </article>
        <article class="card glass tilt" data-tilt>
          <h3>AR Experience</h3>
          <p>Augmented overlays and cinematic playback when scanned with our app.</p>
        </article>
        <article class="card glass tilt" data-tilt>
          <h3>Video Integration</h3>
          <p>Upload high-quality videos that play instantly from the QR code.</p>
        </article>
        <article class="card glass tilt" data-tilt>
          <h3>Cloud Storage</h3>
          <p>Secure storage on Supabase with easy management and backups.</p>
        </article>
      </div>
    </section>

    <hr class="divider" />

    <!-- How It Works -->
    <section id="how" class="section container fade-in reveal" aria-labelledby="howTitle">
      <h2 id="howTitle" class="section-title">How It Works</h2>
      <div class="how-grid">
        <div class="how-step card glass">
          <div class="step-num">1</div>
          <h4>Upload</h4>
          <p>Sign in, upload a photo and a short video memory, and give it a title.</p>
        </div>
        <div class="how-step card glass">
          <div class="step-num">2</div>
          <h4>Embed</h4>
          <p>We generate a unique QR code and embed it into your frame design.</p>
        </div>
        <div class="how-step card glass">
          <div class="step-num">3</div>
          <h4>Scan & Relive</h4>
          <p>Scan the QR with our scanner to play the linked video instantly.</p>
        </div>
      </div>
    </section>

    <hr class="divider" />

    <!-- Create Frame (Auth + Upload) -->
    <section id="create" class="section container fade-in reveal" aria-labelledby="createTitle">
      <h2 id="createTitle" class="section-title">Create Frame</h2>

      <div class="create-wrap">
        <!-- Auth Form -->
        <div class="auth glass" id="authCard">
          <h3>Sign In / Sign Up</h3>
          <form id="authForm" onsubmit="return false;">
            <input type="email" id="authEmail" placeholder="Email" required autocomplete="email" />
            <input type="password" id="authPassword" placeholder="Password" required minlength="6" autocomplete="current-password" />
            <div class="auth-actions">
              <button type="button" id="signUpBtn" class="btn btn-outline">Sign Up</button>
              <button type="button" id="signInBtn" class="btn btn-gold">Sign In</button>
              <button type="button" id="signOutBtn" class="btn btn-ghost hidden">Sign Out</button>
            </div>
            <p id="authMsg" class="muted" aria-live="polite"></p>
          </form>
        </div>

        <!-- Upload Interface (hidden until auth) -->
        <div class="uploader glass hidden" id="uploaderCard" aria-hidden="true">
          <h3>Create a Memory Frame</h3>
          <form id="frameForm">
            <input type="text" id="frameTitle" placeholder="Frame Title" required maxlength="100" />
            <textarea id="frameDesc" placeholder="Short description" rows="3" maxlength="300"></textarea>

            <label class="file-label">Photo (JPEG/PNG)
              <input type="file" id="photoInput" accept="image/*" required />
            </label>

            <label class="file-label">Video (MP4, max 50MB)
              <input type="file" id="videoInput" accept="video/*" required />
            </label>

            <div class="form-actions">
              <button type="submit" class="btn btn-gold">Save Frame</button>
              <button type="button" id="refreshFrames" class="btn btn-outline">Refresh</button>
            </div>
            <p id="uploadMsg" class="muted" aria-live="polite"></p>
          </form>
        </div>
      </div>

      <!-- User Frames Display -->
      <div id="userFrames" class="frames-grid" aria-live="polite"></div>
    </section>

    <hr class="divider" />

    <!-- Order Form -->
    <section id="order" class="section container fade-in reveal" aria-labelledby="orderTitle">
      <h2 id="orderTitle" class="section-title">Order Your MemoryFrame</h2>
      <div class="order-wrap">
        <div class="order-info glass">
          <h3>Premium Package</h3>
          <p class="price">$49.99</p>
          <ul>
            <li>Handcrafted frame</li>
            <li>Embedded QR code</li>
            <li>Priority shipping</li>
            <li>1-year cloud storage</li>
          </ul>
        </div>

        <div class="order-form glass">
          <h3>Place an Order</h3>
          <form id="orderForm">
            <input type="text" id="orderName" placeholder="Full Name" required />
            <input type="email" id="orderEmail" placeholder="Email" required />
            <input type="tel" id="orderPhone" placeholder="Phone" required />
            <textarea id="orderReq" placeholder="Special requirements" rows="4"></textarea>
            <div class="form-actions">
              <button type="submit" class="btn btn-gold">Submit Order</button>
            </div>
            <p id="orderMsg" class="muted" aria-live="polite"></p>
          </form>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <a class="logo" href="#hero">MemoryFrame</a>
        <p class="muted">Cinematic luxury frames that bring your memories to life.</p>
      </div>
      <div>
        <h4>Company</h4>
        <ul class="footer-links">
          <li><a href="#how">How it works</a></li>
          <li><a href="#create">Create</a></li>
          <li><a href="#order">Order</a></li>
        </ul>
      </div>
      <div>
        <h4>Contact</h4>
        <p class="muted">support@memoryframe.example</p>
        <p class="muted">© MemoryFrame 2025</p>
      </div>
    </div>
  </footer>

  <!-- Application Logic -->
  <script type="module" src="index.js"></script>

  <noscript>
    <div class="external-error">This site works best with JavaScript enabled.</div>
  </noscript>

</body>
</html>

